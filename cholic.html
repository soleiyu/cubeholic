<!DOCTYPE html>
<html>
<head>
  <title>CUBE HOLIC</title>
  <style>
    * { padding: 0; margin: 0; }
    canvas { background: #eee; display: block; margin: 0 auto; }
  </style>
</head>
<body>

<canvas id="env" width="895" height="750"></canvas>

<script src="cholic_basic.js"></script>
<script src="cholic_button.js"></script>
<script src="cholic_cubefunc.js"></script>
<script src="cholic_fake3d.js"></script>
<script>
	var canvas = document.getElementById("env");
	var ctx = canvas.getContext("2d");
	var ev77 = true;
	var px = px_initialize(3);

	canvas.addEventListener('click', bclick);

	px_draws(ctx, px);
	bt_draws(ctx);
	fake3d_draws(ctx, px, 50, 45, ev77);

	function bclick(e) {
		var ev = bt_que(e.offsetX, e.offsetY, 50, 45);
		console.log(ev);
		if (ev == 77) {
			ev77 = !ev77
			console.log(ev77);
		} else {
			px = btn_act(px, ev);
		}
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		px_draws(ctx, px);
		bt_draws(ctx);
		fake3d_draws(ctx, px, 50, 45, ev77);
	}

</script>

</body>
</html>

